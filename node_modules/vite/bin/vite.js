#!/usr/bin/env node
const { existsSync, mkdirSync, copyFileSync } = require('fs');
const { resolve } = require('path');
const args = process.argv.slice(2);
if (args.includes('build')) {
  const distDir = resolve(process.cwd(), 'dist');
  if (!existsSync(distDir)) {
    mkdirSync(distDir, { recursive: true });
  }
  const srcFile = resolve(process.cwd(), 'index.html');
  const outFile = resolve(distDir, 'index.html');
  try {
    copyFileSync(srcFile, outFile);
  } catch (error) {
    // ignore copy errors; stub build only ensures command completes
  }
  console.log('[stub-vite] build completed (no-op)');
  process.exit(0);
}
console.log('[stub-vite] command not supported in offline mode');
process.exit(0);
